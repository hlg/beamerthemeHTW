% Copyright 2007 by Till Tantau
% Copyright 2012,2015 by Vedran Mileti\'c, Joseph Wright
% Copyright 2017,2018 by Louis Stuart, Joseph Wright
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\setbeamersize{text margin left=6mm}

\DeclareOptionBeamer{lang}{\def\beamer@HTW@lang{#1}}
\ProcessOptionsBeamer

\mode<presentation>

\setbeamertemplate{page number in head/foot}[totalframenumber]%

\defbeamertemplate{multilangpage}{de}{Seite}
\defbeamertemplate{multilangpage}{en}{Page}
\setbeamertemplate{multilangpage}[\beamer@HTW@lang]


\defbeamertemplate*{footline}{HTW}
{%
  \leavevmode%
  \hrule
  \hbox{%
  \begin{beamercolorbox}[wd=21.87mm,ht=3.28mm,dp=0.76mm,sep=0.2mm,leftskip=1.91mm]{}%
    \usebeamerfont{author in head/foot}\strut\insertshortauthor\expandafter\ifblank\expandafter{\beamer@shortinstitute}{}{~~(\insertshortinstitute)}
  \end{beamercolorbox}%
  \rule{0.378pt}{3.28mm}
  \begin{beamercolorbox}[wd=70.4mm,ht=3.28mm,sep=0.2mm,leftskip=1.91mm]{}%
    \usebeamerfont{title in head/foot}\strut\insertshorttitle
  \end{beamercolorbox}%
  \rule{0.378pt}{3.28mm}
  \begin{beamercolorbox}[wd=18.14mm,ht=3.28mm,sep=0.2mm,leftskip=1.91mm]{}%
    \usebeamerfont{date in head/foot}\strut\insertshortdate{} %\hspace*{2em}
  \end{beamercolorbox}%
  \rule{0.378pt}{3.28mm}
  \begin{beamercolorbox}[wd=17.59mm,ht=3.28mm,sep=0.2mm,leftskip=1.91mm]{}%
    \usebeamerfont{page number in head/foot}\strut\usebeamertemplate{multilangpage} \insertframenumber
    % \usebeamerfont{page number in head/foot}\insertpagenumber{} %\hspace*{2em} 
  \end{beamercolorbox}}%
  %\vskip0pt%
}

\defbeamertemplate*{headline}{} % title is in headline space

\defbeamertemplate*{sidebar right}{} % no logo

\defbeamertemplate*{frametitle}{HTW}[1][left]
{%
  \vspace{2.52mm}
  \leavevmode%
  \hbox{%
  %\hspace{6.05mm}
  \begin{beamercolorbox}[wd=76.60mm,sep=1.1mm,leftskip=-1.1mm]{frametitle} %palette quaternary} 
    \usebeamerfont{frametitle}%
    \strut\insertframetitle\strut\par%
  \end{beamercolorbox}%
  \hspace{6.05mm}
  \begin{beamercolorbox}[wd=32.75mm]{} %palette primary}
     % \includegraphics[height=0.56cm]{htw.pdf}
     \insertlogo
  \end{beamercolorbox}%
  }
  
  {\usebeamercolor[fg]{palette secondary} \hrule width 76.60mm  }
}

\setbeamersize{text margin left=1em,text margin right=1em}

\mode
<all>
